{"version":3,"sources":["webpack:///./src/components/Pagination.js","webpack:///./src/components/photo-list/Preview.js","webpack:///./src/components/photo-list/Item.js","webpack:///./src/components/photo-list/List.js","webpack:///./src/templates/photo-list.js"],"names":["Container","styled","div","props","show","Base","rhythm","disable","theme","light","LIGHT","LINK","FG","dark","DARK","HOVER","NavLink","onClick","to","current","children","navigate","LeftSide","CenterSide","RightSide","Pagination","context","paginationPrefix","currentPage","total","totalPage","seq","pageSize","prevSeq","map","n","filter","reverse","nextSeq","undefined","type","id","i","key","axios","Axios","create","height","Image","canvas","width","transition","img","Preview","onScroll","e","checkVisible","containerRef","loadImage","state","showImage","loaded","imageSrc","imageLoadProgress","React","createRef","addListener","container","document","getElementById","setTimeout","addEventListener","this","src","photo","childImageSharp","fluid","self","get","onDownloadProgress","setState","responseType","then","a","resp","status","blobToSrc","data","catch","console","error","componentDidMount","render","fields","childImageExt","title","description","slug","metadata","imagePlaceholderSrc","smallImg","jpg","ref","in","timeout","alt","unmountOnExit","Component","withSizes","Title","Subtitle","Pair","isDesktop","url","date","Icon","moment","format","ListContainer","List","photos","pageQuery","PhotoListTemplate","location","pageContext","allFile","edges","node","site"],"mappings":"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","file":"component---src-templates-photo-list-js-25c26f2772fbdade0ec9.js","sourcesContent":["import React from \"react\"\nimport { Link, navigate } from \"gatsby\"\n\nimport styled from \"styled-components\"\nimport theme from \"styled-theming\"\nimport { rhythm, scale } from \"../utils/typography\"\nimport { LIGHT, DARK } from \"../theme/colors\"\n\nimport Icon from \"./Icon\"\n\nconst Container = styled.div`\n  display: ${props => (props.show ? \"flex\" : \"none\")};\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n`\n\nconst Base = styled.div`\n  font-size: ${rhythm(0.8)};\n  margin: 0 ${rhythm(0.2)};\n\n  color: ${props =>\n    props.disable\n      ? \"#7777\"\n      : theme(\"mode\", {\n          light: LIGHT.LINK.FG,\n          dark: DARK.LINK.FG,\n        })};\n  cursor: ${props => (props.disable ? \"not-allowed\" : \"pointer\")};\n  box-shadow: none;\n\n  :hover {\n    color: ${props =>\n      props.disable\n        ? \"#7777\"\n        : theme(\"mode\", {\n            light: LIGHT.LINK.HOVER,\n            dark: DARK.LINK.HOVER,\n          })};\n    box-shadow: ${props =>\n      props.disable ? \"none\" : \"0px 1px 0px 0px currentColor !important\"};\n  }\n`\n\nconst NavLink = ({ onClick, to, disable, current, children }) => {\n  const _onClick = () => {\n    if (disable) return\n    navigate(to)\n    // TODO: scroll to top\n  }\n  return (\n    <Base disable={disable} onClick={_onClick}>\n      {current && \"<\"}\n      {children}\n      {current && \">\"}\n    </Base>\n  )\n}\n\nconst LeftSide = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n`\nconst CenterSide = styled.div`\n  flex-grow: 1;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n`\nconst RightSide = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n`\n\nconst Pagination = ({ context, paginationPrefix = \"\" }) => {\n  const { total, currentPage, totalPage, pageSize } = context || {}\n  const seq = [1, 2, 3, 4, 5]\n  const prevSeq = seq\n    .map(n => currentPage - n)\n    .filter(n => n > 0)\n    .reverse()\n  const nextSeq = seq.map(n => currentPage + n).filter(n => n <= totalPage)\n\n  return (\n    <Container show={currentPage !== undefined && totalPage > 1}>\n      <LeftSide>\n        <NavLink disable={currentPage <= 1} to={`${paginationPrefix}/1`}>\n          <Icon type=\"s\" id=\"angle-double-left\" />\n        </NavLink>\n        <NavLink\n          disable={currentPage <= 1}\n          to={`${paginationPrefix}/${currentPage - 1}`}\n        >\n          <Icon type=\"s\" id=\"angle-left\" />\n        </NavLink>\n      </LeftSide>\n      <CenterSide>\n        {currentPage > 6 && <NavLink disable>...</NavLink>}\n        {prevSeq.map(i => (\n          <NavLink key={i} disable={false} to={`${paginationPrefix}/${i}`}>\n            {i}\n          </NavLink>\n        ))}\n        <NavLink disable current>\n          {currentPage}\n        </NavLink>\n        {nextSeq.map(i => (\n          <NavLink key={i} disable={false} to={`${paginationPrefix}/${i}`}>\n            {i}\n          </NavLink>\n        ))}\n        {totalPage - currentPage > 6 && <NavLink disable>...</NavLink>}\n      </CenterSide>\n      <RightSide>\n        <NavLink\n          disable={currentPage >= totalPage}\n          to={`${paginationPrefix}/${currentPage + 1}`}\n        >\n          <Icon type=\"s\" id=\"angle-right\" />\n        </NavLink>\n        <NavLink\n          disable={currentPage >= totalPage}\n          to={`${paginationPrefix}/${totalPage}`}\n        >\n          <Icon type=\"s\" id=\"angle-double-right\" />\n        </NavLink>\n      </RightSide>\n    </Container>\n  )\n}\n\nexport default Pagination\n","import React from \"react\"\nimport { Link } from \"gatsby\"\n\nimport moment from \"moment\"\n\nimport styled from \"styled-components\"\nimport transition from \"styled-transition-group\"\n\nimport Axios from \"axios\"\n\nimport { rhythm, scale } from \"../../utils/typography\"\nimport { withSizes } from \"../../utils/helpers\"\n\nimport Icon from \"../Icon\"\nimport { blobToSrc, checkVisible } from \"../../utils/helpers\"\n\nconst axios = Axios.create()\n\nconst Container = styled.div`\n  width: 320px;\n  height: ${props => `${props.height}px`};\n  margin: ${rhythm(0.5)};\n`\n\nconst Canvas = styled.canvas`\n  width: ${props => `${props.width}px`};\n  height: ${props => `${props.height}px`};\n`\n\nconst Image = transition.img`\n  width: 320px;\n  height: ${props => `${props.height}px`};\n  margin: 0;\n  padding: 0;\n\n  &:exit {\n    opacity: 0.01;\n  }\n  &:exit-active {\n    opacity: 1;\n    transition: 500ms ease-in;\n  }\n  &:enter {\n    filter: blur(10px);\n  }\n  &:enter-active {\n    filter: blur(0px);\n    transition: 500ms ease-in;\n  }\n\n  :not(:first-child) {\n    position: relative;\n    top: ${props => `${-4 - props.height}px`};\n  }\n\n  :not(:last-child) {\n    filter: blur(10px);\n  }\n`\n\nclass Preview extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      showImage: false,\n      loaded: false,\n      imageSrc: null,\n      imageLoadProgress: 0,\n    }\n    this.containerRef = React.createRef()\n  }\n\n  addListener() {\n    try {\n      const container = document.getElementById(\"scrollContainer\")\n      if (!container) {\n        setTimeout(addListener, 1)\n        return\n      }\n      container.addEventListener(\"scroll\", this.onScroll)\n    } catch {}\n  }\n\n  onScroll = e => {\n    if (checkVisible(this.containerRef.current)) {\n      this.loadImage()\n    }\n  }\n\n  loadImage() {\n    if (this.state.loaded) return\n    const { photo } = this.props\n    const src = photo.childImageSharp.fluid.src\n    const self = this\n    axios\n      .get(src, {\n        onDownloadProgress: e => {\n          // console.log(\"onDownloadProgress\", e)\n          self.setState({\n            imageLoadProgress: e.loaded / e.total,\n          })\n        },\n        responseType: \"blob\",\n      })\n      .then(async resp => {\n        // console.log(\"resp\", resp)\n        if (resp.status >= 200 && resp.status < 300) {\n          self.setState({\n            loaded: true,\n          })\n          const src = blobToSrc(resp.data)\n          if (src) {\n            self.setState({\n              showImage: true,\n              imageSrc: blobToSrc(resp.data),\n            })\n          }\n        }\n      })\n      .catch(e => console.error(e))\n  }\n\n  componentDidMount() {\n    this.addListener()\n    if (checkVisible(this.containerRef.current)) {\n      this.loadImage()\n    }\n  }\n\n  render() {\n    const { photo } = this.props\n    const { showImage, imageSrc } = this.state\n    const { fields, childImageExt, childImageSharp } = photo\n    const { title, description, slug } = fields\n    const { metadata, smallImg } = childImageExt\n    // console.log(\"smallImg\", smallImg)\n    // data:image/jpg;base64,\n    // console.log(\"metadata\", metadata)\n    const imagePlaceholderSrc = `data:image/jpg;base64, ${smallImg.jpg}`\n    const height = (320 * metadata.height) / metadata.width\n    return (\n      <Container height={height} ref={this.containerRef}>\n        <Image\n          in={showImage}\n          timeout={500}\n          height={height}\n          src={imagePlaceholderSrc}\n          alt={\"tiny \" + (title || description || slug)}\n        />\n        <Image\n          unmountOnExit\n          in={!showImage}\n          timeout={500}\n          height={height}\n          src={imageSrc}\n        />\n      </Container>\n    )\n  }\n}\n\nexport default withSizes(Preview)\n","import React from \"react\"\nimport { Link } from \"gatsby\"\n\nimport moment from \"moment\"\n\nimport styled from \"styled-components\"\nimport theme from \"styled-theming\"\n\nimport { rhythm, scale } from \"../../utils/typography\"\nimport { withSizes } from \"../../utils/helpers\"\n\nimport Icon from \"../Icon\"\n\nimport Preview from \"./Preview\"\n\nconst Container = styled.div`\n  padding: ${rhythm(1)};\n  padding-top: ${rhythm(0.1)};\n\n  &:hover {\n    background-color: ${theme(\"mode\", {\n      light: \"#00000005\",\n      dark: \"#FFFFFF05\",\n    })} !important;\n    @media screen and (max-width: 1024px) {\n      background-color: #0000 !important;\n    }\n  }\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`\n\nconst Title = styled.div`\n  font-size: ${rhythm(1.2)};\n  margin: ${rhythm(1.2)} 0 ${rhythm(0.4)} 0;\n  @media screen and (max-width: 1024px) {\n    font-size: ${rhythm(0.9)};\n  }\n  @media screen and (max-width: 480px) {\n    font-size: 18px !important;\n  }\n`\n\nconst Subtitle = styled.div`\n  font-style: italic;\n  margin-bottom: ${rhythm(1)};\n  @media screen and (max-width: 1024px) {\n    font-size: ${rhythm(0.7)};\n  }\n  @media screen and (max-width: 480px) {\n    font-size: 18px !important;\n  }\n`\n\nconst Pair = styled.div`\n  white-space: nowrap;\n`\n\nconst Item = ({ isDesktop, photo }) => {\n  const { fields } = photo\n  const { title, url, slug, description, date } = fields\n  // console.log(\"fields\", fields)\n  return (\n    <Container>\n      <Link to={`${url}`}>\n        <Preview photo={photo} />\n      </Link>\n      {title && <Title>{title}</Title>}\n      <Subtitle>\n        <Pair>\n          {date && (\n            <>\n              <Icon type=\"r\" id=\"calendar\" />\n              {moment(date).format(\"YYYY-MM-DD\")}\n            </>\n          )}\n        </Pair>\n        <Pair>\n          {description && (\n            <>\n              <Icon type=\"r\" id=\"info-circle\" />\n              {description}\n            </>\n          )}\n        </Pair>\n      </Subtitle>\n    </Container>\n  )\n}\n\nexport default withSizes(Item)\n","import React from \"react\"\nimport Item from \"./Item\"\n\nimport styled from \"styled-components\"\nimport theme from \"styled-theming\"\nimport { rhythm, scale } from \"../../utils/typography\"\n\nimport Pagination from \"../Pagination\"\n\nconst Container = styled.div`\n  margin-bottom: ${rhythm(0.5)};\n`\n\nconst ListContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n`\n\nconst List = ({ photos, context }) => {\n  return (\n    <Container>\n      {context && context.currentPage && (\n        <Pagination context={context} paginationPrefix=\"/photo-list\" />\n      )}\n\n      <ListContainer>\n        {photos.map((photo, i) => (\n          <Item key={i} context={context} photo={photo} />\n        ))}\n      </ListContainer>\n\n      {context && context.currentPage && (\n        <Pagination context={context} paginationPrefix=\"/photo-list\" />\n      )}\n    </Container>\n  )\n}\n\nexport default List\n","import React from \"react\"\nimport { graphql } from \"gatsby\"\n\nimport List from \"../components/photo-list/List\"\n\nconst PhotoListTemplate = ({ location, pageContext, data }) => {\n  const { title, currentPage, totalPage } = pageContext\n  return (\n    <div>\n      <h1>\n        {title}{\" \"}\n        {currentPage !== undefined &&\n          totalPage > 1 &&\n          `(${currentPage} / ${totalPage})`}\n      </h1>\n      <List\n        photos={data.allFile.edges.map(({ node }) => node)}\n        context={{ ...pageContext, site: data.site }}\n      />\n    </div>\n  )\n}\n\nexport const pageQuery = graphql`\n  query QueryPhotoList($skip: Int!, $limit: Int!) {\n    site {\n      siteMetadata {\n        title\n        author {\n          name\n        }\n      }\n    }\n    allFile(\n      filter: { sourceInstanceName: { eq: \"photos\" } }\n      sort: {fields: fields___date, order: DESC}\n      skip: $skip\n      limit: $limit\n    ) {\n      edges {\n        node {\n          id\n          dir\n          absolutePath\n          publicURL\n          childImageExt {\n            metadata\n            tinyImg\n            smallImg\n          }\n          fields {\n            slug\n            url\n            date\n          }\n          childImageSharp {\n            fluid(\n              maxWidth: 320\n              background: \"rgba(0,0,0,0.5)\"\n              toFormat: JPG\n              fit: CONTAIN\n            ) {\n              aspectRatio\n              src\n              srcSet\n              sizes\n            }\n          }\n        }\n      }\n    }\n  }\n`\n\nexport default PhotoListTemplate\n"],"sourceRoot":""}